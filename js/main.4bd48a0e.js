(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(e,t,i){var a=i(70);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,i(46).default)("7f68c322",a,!0,{})},48:function(e,t,i){var a=i(72);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,i(46).default)("5812e1b6",a,!0,{})},61:function(e){e.exports=JSON.parse('{"name":"ssb_sketch","display":"SSB sketch","version":"0.1.0","description":"Simple canvas for shape prototyping as PWA.","keywords":["ssb","sketch","canvas","shape","pwa"],"author":"Christoph \'Youka\' Spanknebel","license":"Apache-2.0","homepage":"https://github.com/substation-beta","bugs":"https://github.com/substation-beta/ssb_sketch/issues","repository":"github:substation-beta/ssb_sketch","private":true,"engines":{"node":">=10","npm":">=6"},"browser":"window","scripts":{"build":"webpack -p","dev":"webpack-dev-server --open --hot","lint":"eslint --ext .js,.vue src webpack.config.js","test":"jest --coverage src/"},"dependencies":{"bootstrap":"4.5.2","bootstrap-vue":"2.17.3","vue":"2.6.12","vue-i18n":"8.21.1","vue-unique-id":"3.1.1","vuex":"3.5.1","vuex-map-fields":"1.4.0","vuex-persistedstate":"3.1.0"},"devDependencies":{"@babel/core":"7.11.6","@babel/preset-env":"7.11.5","babel-eslint":"10.1.0","babel-loader":"8.1.0","clean-webpack-plugin":"3.0.0","compression-webpack-plugin":"6.0.2","css-loader":"4.3.0","eslint":"7.9.0","eslint-config-standard":"14.1.1","eslint-plugin-import":"2.22.0","eslint-plugin-node":"11.1.0","eslint-plugin-promise":"4.2.1","eslint-plugin-standard":"4.0.1","eslint-plugin-vue":"6.2.2","file-loader":"6.1.0","html-webpack-plugin":"4.5.0","jest":"26.4.2","mini-css-extract-plugin":"0.11.2","node-sass-chokidar":"1.5.0","offline-plugin":"5.0.7","robotstxt-webpack-plugin":"7.0.0","sass-loader":"10.0.2","vue-loader":"15.9.3","vue-template-compiler":"2.6.12","webpack":"4.44.2","webpack-cli":"3.3.12","webpack-dev-server":"3.11.0","webpack-pwa-manifest":"4.2.0"}}')},65:function(e,t,i){var a=i(66);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,i(46).default)("704cc700",a,!0,{})},66:function(e,t,i){},67:function(e,t,i){var a=i(68);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,i(46).default)("251dae64",a,!0,{})},68:function(e,t,i){},69:function(e,t,i){"use strict";var a=i(47);i.n(a).a},70:function(e,t,i){},71:function(e,t,i){"use strict";var a=i(48);i.n(a).a},72:function(e,t,i){},73:function(e,t,i){"use strict";i.r(t);var a=i(13),s=i(54),r={};a.a.directive("sync",{bind:function(e,t,i){e.value=t.value,r[e]=function(){e.checkValidity()?i.context[t.expression]=t.modifiers.number?parseFloat(e.value):e.value:e.value=i.context[t.expression]},e.addEventListener("change",r[e])},unbind:function(e){e.removeEventListener("change",r[e]),delete r[e]},update:function(e,t){e.value=t.value}});var o=i(59);a.a.use(o.a);var n=i(75),l=i(81),c=i(78),p=i(79),u=i(80),d=i(82),f=i(83),v=i(77),b=i(84),h=i(62),m=i(76);i(65);a.a.use(n.a,{formControls:{size:"sm"},BInputGroup:{size:"sm"}}),a.a.use(l.a),a.a.use(c.a),a.a.use(p.a),a.a.use(u.a),a.a.use(d.a),a.a.use(f.a),a.a.use(v.a),a.a.use(b.a),a.a.use(h.a),a.a.use(m.a);var w=i(56),g=i(35),O=i(60),y=i(61);a.a.use(w.a);var x=new w.a.Store({state:{commands:"",lineWidth:1,lineCap:"round",lineJoin:"round",viewportWidth:-1,viewportHeight:100,viewportOffsetX:50,viewportOffsetY:50,lineWidthLimit:1e3,viewportOffsetLimit:9e4,viewportDimensionLimit:1e6},getters:{getField:g.a},mutations:{updateField:g.c},plugins:[Object(O.a)({key:y.name+"-store",storage:window.localStorage})]}),_=i(57);a.a.use(_.a);var $=navigator.language.split("-",1)[0];console.info("Detected browser language: "+$);var k=new _.a({locale:$,fallbackLocale:"en",messages:{en:{loaded_at:"loaded at",missing_number:"Number?",commands:"Commands",line:{title:"Line",width:"Width",cap:"Cap",join:"Join"},viewport:{title:"Viewport",size:"Size",offset:"Offset"}},de:{loaded_at:"geladen am",missing_number:"Zahl?",commands:"Befehle",line:{title:"Linie",width:"Breite",cap:"Ende",join:"Verb."},viewport:{title:"Ansicht",size:"Größe",offset:"Absatz"}}}}),C=(i(67),{computed:Object(g.b)(["commands","lineWidth","lineCap","lineJoin","viewportWidth","viewportHeight","viewportOffsetX","viewportOffsetY","lineWidthLimit","viewportOffsetLimit","viewportDimensionLimit"])}),L=(i(69),i(31)),j=Object(L.a)(C,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-nav",{staticClass:"navbar"},[i("b-container",{attrs:{fluid:""}},[i("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.menu-collapse",modifiers:{"menu-collapse":!0}}],staticClass:"navbar-toggle collapsed",attrs:{type:"button"}},[i("b-icon",{attrs:{icon:"list",color:"white",variant:"white"}})],1),e._v(" "),i("b-collapse",{attrs:{id:"menu-collapse","aria-expanded":"true","data-breakpoint":"800",invisible:""}},[i("b-row",{attrs:{"align-h":"center"}},[i("b-col",{attrs:{cols:"12",xl:""}},[i("b-form-group",{attrs:{label:e.$t("commands"),"label-for":e.$id("commands"),"label-align":"center","label-class":"font-weight-bold","label-size":"lg"}},[i("b-textarea",{attrs:{id:e.$id("commands"),lazy:"",autofocus:"",rows:"5","no-resize":""},model:{value:e.commands,callback:function(t){e.commands=t},expression:"commands"}})],1)],1),e._v(" "),i("b-col",{attrs:{cols:"auto"}},[i("b-form-group",{attrs:{label:e.$t("line.title"),"label-for":e.$id("lineWidth"),"label-align":"center","label-class":"font-weight-bold","label-size":"lg"}},[i("b-form-group",{attrs:{label:e.$t("line.width")+": ","label-for":e.$id("lineWidth"),"label-size":"sm","label-cols":"4","label-align":"right"}},[i("b-input",{directives:[{name:"sync",rawName:"v-sync.number",value:e.lineWidth,expression:"lineWidth",modifiers:{number:!0}}],attrs:{id:e.$id("lineWidth"),placeholder:e.$t("missing_number"),type:"number",required:"",min:"0",max:e.lineWidthLimit,step:"0.125"}})],1),e._v(" "),i("b-form-group",{attrs:{label:e.$t("line.cap")+": ","label-for":e.$id("lineCap"),"label-size":"sm","label-cols":"4","label-align":"right"}},[i("b-select",{attrs:{id:e.$id("lineCap"),options:["butt","round","square"]},model:{value:e.lineCap,callback:function(t){e.lineCap=t},expression:"lineCap"}})],1),e._v(" "),i("b-form-group",{attrs:{label:e.$t("line.join")+": ","label-for":e.$id("lineJoin"),"label-size":"sm","label-cols":"4","label-align":"right"}},[i("b-select",{attrs:{id:e.$id("lineJoin"),options:["bevel","round","miter"]},model:{value:e.lineJoin,callback:function(t){e.lineJoin=t},expression:"lineJoin"}})],1)],1)],1),e._v(" "),i("b-col",{attrs:{cols:"auto"}},[i("b-form-group",{attrs:{label:e.$t("viewport.title"),"label-for":e.$id("viewportHeight"),"label-align":"center","label-class":"font-weight-bold","label-size":"lg"}},[i("b-form-group",{attrs:{label:e.$t("viewport.size")+": ","label-for":e.$id("viewportHeight"),"label-size":"sm","label-cols":"3","label-align":"right"}},[i("b-input-group",[i("label",{staticClass:"sr-only",attrs:{for:e.$id("viewportWidth")}},[e._v(e._s(e.$t("viewport.size")))]),e._v(" "),i("b-input",{attrs:{id:e.$id("viewportWidth"),readonly:"",value:e.viewportWidth.toFixed(2)}}),e._v(" "),i("b-input-group-prepend",{attrs:{"is-text":""}},[e._v("X")]),e._v(" "),i("b-input",{directives:[{name:"sync",rawName:"v-sync.number",value:e.viewportHeight,expression:"viewportHeight",modifiers:{number:!0}}],attrs:{id:e.$id("viewportHeight"),placeholder:e.$t("missing_number"),required:"",type:"number",min:"1",max:e.viewportDimensionLimit,step:"1"}})],1)],1),e._v(" "),i("b-form-group",{attrs:{label:e.$t("viewport.offset")+": ","label-for":e.$id("viewportOffsetX"),"label-size":"sm","label-cols":"3","label-align":"right"}},[i("b-input-group",[i("b-input",{directives:[{name:"sync",rawName:"v-sync.number",value:e.viewportOffsetX,expression:"viewportOffsetX",modifiers:{number:!0}}],attrs:{id:e.$id("viewportOffsetX"),placeholder:e.$t("missing_number"),required:"",type:"number",min:-e.viewportOffsetLimit,max:e.viewportOffsetLimit,step:"1"}}),e._v(" "),i("b-input-group-prepend",{attrs:{"is-text":""}},[e._v("X")]),e._v(" "),i("label",{staticClass:"sr-only",attrs:{for:e.$id("viewportOffsetY")}},[e._v(e._s(e.$t("viewport.offset")))]),e._v(" "),i("b-input",{directives:[{name:"sync",rawName:"v-sync.number",value:e.viewportOffsetY,expression:"viewportOffsetY",modifiers:{number:!0}}],attrs:{id:e.$id("viewportOffsetY"),placeholder:e.$t("missing_number"),required:"",type:"number",min:-e.viewportOffsetLimit,max:e.viewportOffsetLimit,step:"1"}})],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,"df1fb670",null).exports;function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.min(Math.max(e,t),i)}function R(e){return e<0?Math.ceil(e):Math.floor(e)}function Y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function z(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var D={data:function(){return{viewportRatio:null,drag:null}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(i),!0).forEach((function(t){z(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(g.b)(["commands","lineWidth","lineCap","lineJoin","viewportWidth","viewportHeight","viewportOffsetX","viewportOffsetY","viewportOffsetLimit","viewportDimensionLimit"])),watch:{commands:A,lineWidth:A,lineCap:A,lineJoin:A,viewportHeight:function(){this.updateViewportResolution(),A.call(this)},viewportOffsetX:A,viewportOffsetY:A},mounted:function(){var e=function(){var e=this.$refs.canvas,t=e.parentNode;e.setAttribute("width",t.offsetWidth),e.setAttribute("height",t.offsetHeight),this.updateViewportResolution(),A.call(this)}.bind(this);e(),window.addEventListener("resize",e)},methods:{updateViewportResolution:function(){this.viewportRatio=this.$refs.canvas.height/this.viewportHeight,this.viewportWidth=this.$refs.canvas.width/this.viewportRatio},isolateEvent:function(e){e.preventDefault(),e.stopImmediatePropagation()},emitCursor:function(e){this.isolateEvent(e),this.$emit("cursor","pointerleave"===e.type?null:{x:(e.layerX/this.viewportRatio-this.viewportOffsetX).toFixed(2),y:(e.layerY/this.viewportRatio-this.viewportOffsetY).toFixed(2)})},startDrag:function(e){this.isolateEvent(e),this.drag={lastPosition:{x:e.layerX,y:e.layerY},moveAccum:{x:0,y:0}}},endDrag:function(){this.drag=null},updateDrag:function(e){this.drag&&(this.isolateEvent(e),this.drag.moveAccum.x+=(e.layerX-this.drag.lastPosition.x)/this.viewportRatio,Math.abs(this.drag.moveAccum.x)>=1&&(this.viewportOffsetX=W(this.viewportOffsetX+R(this.drag.moveAccum.x),-this.viewportOffsetLimit,this.viewportOffsetLimit),this.drag.moveAccum.x%=1),this.drag.moveAccum.y+=(e.layerY-this.drag.lastPosition.y)/this.viewportRatio,Math.abs(this.drag.moveAccum.y)>=1&&(this.viewportOffsetY=W(this.viewportOffsetY+R(this.drag.moveAccum.y),-this.viewportOffsetLimit,this.viewportOffsetLimit),this.drag.moveAccum.y%=1),this.drag.lastPosition={x:e.layerX,y:e.layerY})},zoomView:function(e){var t=function(e){var t=Math.pow(10,Math.floor(Math.log10(e)));return{base10:t,units10:Math.floor(e/t)}}(this.viewportHeight),i=t.base10,a=t.units10;this.viewportHeight=W(i*a+(e.deltaY<0&&1===a?-i/10:Math.sign(e.deltaY)*i),1,this.viewportDimensionLimit)}}},X={large:{width:4,height:12},small:{width:3,height:8}};function A(){var e=this.$refs.canvas,t=e.getContext("2d");t.fillStyle="white",t.clearRect(0,0,e.width,e.height),t.save(),t.fillStyle="black",t.font=X.large.height+"px 'Open Sans'",t.fillRect(this.viewportRatio*this.viewportOffsetX-X.large.width/2,0,X.large.width,X.large.height),t.textAlign="center",t.textBaseline="top",t.fillText("0",this.viewportRatio*this.viewportOffsetX,X.large.height+1),t.fillRect(0,this.viewportRatio*this.viewportOffsetY-X.large.width/2,X.large.height,X.large.width),t.textAlign="left",t.textBaseline="middle",t.fillText("0",X.large.height+1,this.viewportRatio*this.viewportOffsetY),t.scale(this.viewportRatio,this.viewportRatio),t.translate(this.viewportOffsetX,this.viewportOffsetY),t.fillStyle="blue",t.strokeStyle="red",t.miterLimit=this.viewportHeight,t.lineWidth=Math.max(this.lineWidth,Number.MIN_VALUE),t.lineCap=this.lineCap,t.lineJoin=this.lineJoin,t.globalAlpha=.5,t.strokeRect(-10,-5,20,10),t.fillRect(-10,-5,20,10),t.restore()}var S=D,E=(i(71),{props:["cursor"],data:function(){return{version:document.querySelector("html > head > meta[name='version']").content,date:(new Date).toLocaleString()}}}),J={components:{"ssb-toolbar":j,"ssb-canvas":Object(L.a)(S,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("canvas",{ref:"canvas",on:{pointerenter:e.emitCursor,pointermove:function(t){e.emitCursor(t),e.updateDrag(t)},pointerleave:function(t){e.emitCursor(t),e.endDrag()},pointerdown:e.startDrag,pointerup:e.endDrag,wheel:e.zoomView}},[i("code",[e._v("Your browser has to support canvas for this application content!")])])}),[],!1,null,"eb5ef9cc",null).exports,"ssb-statusbar":Object(L.a)(E,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-container",{staticClass:"p-0",attrs:{fluid:""}},[i("b-row",{attrs:{"no-gutters":""}},[i("b-col",[i("b-icon",{attrs:{icon:"cursor-fill"}}),e._v(" "+e._s(e.cursor?e.cursor.x+" / "+e.cursor.y:"")+"\n\t\t")],1),e._v(" "),i("b-col",{attrs:{cols:"12",sm:"auto"}},[i("b",[i("b-icon",{attrs:{icon:"exclamation-circle"}}),e._v(" v"+e._s(e.version))],1),e._v(" "+e._s(e.$t("loaded_at"))+" "),i("i",[e._v(e._s(e.date))])])],1)],1)}),[],!1,null,null,null).exports},data:function(){return{canvasCursor:null}}},P=Object(L.a)(J,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vh-100 d-flex flex-column"},[i("header",{staticClass:"text-white bg-dark"},[i("ssb-toolbar")],1),e._v(" "),i("main",{staticClass:"flex-fill overflow-hidden"},[i("ssb-canvas",{on:{cursor:function(t){e.canvasCursor=t}}})],1),e._v(" "),i("footer",{staticClass:"text-white bg-dark"},[i("ssb-statusbar",{attrs:{cursor:e.canvasCursor}})],1)])}),[],!1,null,null,null).exports;new a.a({el:"#app",render:function(e){return e(P)},store:x,i18n:k});s.install({onUpdateReady:function(){return s.applyUpdate()},onUpdated:function(){return window.location.reload()}})}},[[73,1,2]]]);